params:
  file: string
  pattern: string
  line: string
  sudo: boolean?
...

# -i : edit files in place
success = sh? '{{ "sudo " if params.sudo }}sed -i "/{{ params.pattern }}/c\{{ params.line }}" {{ params.file }}'

{
  success: success
}
